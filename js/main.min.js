var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.LazyLoad=t()}(this,function(){"use strict";function r(e,t,n){var r,o,a,i,s=t._settings;!n&&u(e)||(p(s.callback_enter,e),-1<O.indexOf(e.tagName)&&(o=t,function(e,t,n){v(e,"load",t),v(e,"loadeddata",t),v(e,"error",n)}(r=e,a=function e(t){y(t,!0,o),b(r,e,i)},i=function e(t){y(t,!1,o),b(r,a,e)}),h(e,s.class_loading)),function(e,t){var n=t._settings,r=e.tagName,o=C[r];if(o)return o(e,n),t._updateLoadingCount(1),t._elements=_(t._elements,e);g(e,n)}(e,t),c(e,"was-processed","true"),p(s.callback_set,e))}function l(e,t){return e.getAttribute("data-"+t)}function c(e,t,n){var r="data-"+t;null!==n?e.setAttribute(r,n):e.removeAttribute(r)}function u(e){return"true"===l(e,"was-processed")}function d(e,t){return c(e,"ll-timeout",t),0}function f(e){return l(e,"ll-timeout")}function _(e,t){return e.filter(function(e){return e!==t})}function o(e,t){var n,r=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)}function s(e,t){return t?e.replace(/\.(jpe?g|png)/gi,".webp"):e}function m(e,t,n,r){for(var o,a,i=0;o=e.children[i];i+=1){"SOURCE"===o.tagName&&(a=l(o,n),A(o,t,a,r))}}function g(e,t){var n,r,o=z&&t.to_webp,a=l(e,t.data_src),i=l(e,t.data_bg);a&&(n=s(a,o),e.style.backgroundImage='url("'+n+'")'),i&&(r=s(i,o),e.style.backgroundImage=r)}function h(e,t){x?e.classList.add(t):e.className+=(e.className?" ":"")+t}function p(e,t){e&&e(t)}function v(e,t,n){e.addEventListener(t,n)}function a(e,t,n){e.removeEventListener(t,n)}function b(e,t,n){a(e,"load",t),a(e,"loadeddata",t),a(e,"error",n)}function y(e,t,n){var r,o,a=n._settings,i=t?a.class_loaded:a.class_error,s=t?a.callback_load:a.callback_error,l=e.target;r=l,o=a.class_loading,x?r.classList.remove(o):r.className=r.className.replace(new RegExp("(^|\\s+)"+o+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""),h(l,i),p(s,l),n._updateLoadingCount(-1)}function w(e,t,n){r(e,n),t.unobserve(e)}function L(e){var t=f(e);t&&(clearTimeout(t),d(e,null))}function k(e){return e.isIntersecting||0<e.intersectionRatio}function e(e,t){this._settings=_extends({},n,e),this._setObserver(),this._loadingCount=0,this.update(t)}var t,n={elements_selector:"img",container:document,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},i="undefined"!=typeof window,E=i&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),I=i&&"IntersectionObserver"in window,x=i&&"classList"in document.createElement("p"),z=i&&(!(!(t=document.createElement("canvas")).getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")),A=function(e,t,n,r){n&&e.setAttribute(t,s(n,r))},C={IMG:function(e,t){var n=z&&t.to_webp,r=t.data_srcset,o=e.parentNode;o&&"PICTURE"===o.tagName&&m(o,"srcset",r,n);var a=l(e,t.data_sizes);A(e,"sizes",a);var i=l(e,r);A(e,"srcset",i,n);var s=l(e,t.data_src);A(e,"src",s,n)},IFRAME:function(e,t){var n=l(e,t.data_src);A(e,"src",n)},VIDEO:function(e,t){var n=t.data_src,r=l(e,n);m(e,"src",n),A(e,"src",r),e.load()}},O=["IMG","IFRAME","VIDEO"];return e.prototype={_manageIntersection:function(e){var t,n,r,o,a,i=this._observer,s=this._settings.load_delay,l=e.target;s?k(e)?(t=l,n=i,o=(r=this)._settings.load_delay,(a=f(t))||(a=setTimeout(function(){w(t,n,r),L(t)},o),d(t,a))):L(l):k(e)&&w(l,i,this)},_onIntersection:function(e){e.forEach(this._manageIntersection.bind(this))},_setObserver:function(){var e;I&&(this._observer=new IntersectionObserver(this._onIntersection.bind(this),{root:(e=this._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}))},_updateLoadingCount:function(e){this._loadingCount+=e,0===this._elements.length&&0===this._loadingCount&&p(this._settings.callback_finish)},update:function(e){var t=this,n=this._settings,r=e||n.container.querySelectorAll(n.elements_selector);this._elements=Array.prototype.slice.call(r).filter(function(e){return!u(e)}),!E&&this._observer?this._elements.forEach(function(e){t._observer.observe(e)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,t){r(e,this,t)},loadAll:function(){var t=this;this._elements.forEach(function(e){t.load(e)})}},i&&function(e,t){if(t)if(t.length)for(var n,r=0;n=t[r];r+=1)o(e,n);else o(e,t)}(e,window.lazyLoadOptions),e});for(var links=document.querySelectorAll("a"),i=0;i<links.length;i++){var currentLink,a=new RegExp("/"+window.location.host+"/");a.test(links[i].href)||links[i].classList.contains("sponsor")||links[i].classList.contains("job-post")||links[i].classList.contains("community")||links[i].closest(".display_archive")||(currentLink=links[i].href.trim(),links[i].href=currentLink+"?utm_source=unicornclub.dev&utm_medium=link_post&utm_campaign=unicornclub.dev&ref=unicornclub.dev",links[i].target="_blank")}function getParameterByName(e,t){e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var referParam=getParameterByName("refer",window.location.href)||getParameterByName("ref",window.location.href),inputFields=document.querySelectorAll('input[name="fields[refer]"]');inputFields.forEach(function(e){e.value=referParam});var myLazyLoad=new LazyLoad({elements_selector:".lazy"});myLazyLoad.loadAll();
//# sourceMappingURL=main.min.js.map